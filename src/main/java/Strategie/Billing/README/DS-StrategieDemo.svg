<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="782px" preserveAspectRatio="none" style="width:1932px;height:782px;" version="1.1" viewBox="0 0 1932 782" width="1932px" zoomAndPan="magnify"><defs/><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="84.2969" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="365" x2="365" y1="84.2969" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="530" x2="530" y1="183.2109" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="826" x2="826" y1="84.2969" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1062" x2="1062" y1="84.2969" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1305" x2="1305" y1="84.2969" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1601" x2="1601" y1="428.4375" y2="775.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1821" x2="1821" y1="84.2969" y2="775.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="5" y="80.9951">:StrategyDemo</text><ellipse cx="63.5" cy="15" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M63.5,23 L63.5,50 M50.5,31 L76.5,31 M63.5,50 L50.5,65 M63.5,50 L76.5,65 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="121" x="305" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="312" y="72.9951">BillingStrategy</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="241" x="706" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="713" y="72.9951">normalStragegy:BillingStrategy</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="211" x="957" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="964" y="72.9951">drinks1:ArrayList&lt;Integer&gt;</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="254" x="1178" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="1185" y="72.9951">hapyHourstrategh:Billingstrategy</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1716" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1723" y="72.9951">drinks2:ArrayList&lt;Integer&gt;</text><polygon fill="#A80036" points="353.5,111.4297,363.5,115.4297,353.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="359.5" y1="115.4297" y2="115.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="70.5" y="110.3638">normalStrategy = normalStrategy()</text><polygon fill="#A80036" points="353.5,140.5625,363.5,144.5625,353.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="359.5" y1="144.5625" y2="144.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="70.5" y="139.4966">happyHourStrategy = happyHourStrategy()</text><polygon fill="#A80036" points="424,169.6953,434,173.6953,424,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="430" y1="173.6953" y2="173.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="70.5" y="168.6294">FC = new(normalStrategy)</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="436" y="152.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="443" y="172.5576">firstCustomer:Customer</text><polygon fill="#A80036" points="518.5,210.9922,528.5,214.9922,518.5,218.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="524.5" y1="214.9922" y2="214.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="70.5" y="209.9263">add(100,1)</text><polygon fill="#A80036" points="814.5,240.125,824.5,244.125,814.5,248.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="820.5" y1="244.125" y2="244.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="537.5" y="239.0591">Integer price = getActPrice(price*quantity)</text><polygon fill="#A80036" points="1050.5,269.2578,1060.5,273.2578,1050.5,277.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="1056.5" y1="273.2578" y2="273.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="537.5" y="268.1919">add(price)</text><polygon fill="#A80036" points="518.5,298.3906,528.5,302.3906,518.5,306.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="524.5" y1="302.3906" y2="302.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="70.5" y="297.3247">setStrategy(happyHourStrategy)</text><polygon fill="#A80036" points="518.5,327.5234,528.5,331.5234,518.5,335.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="524.5" y1="331.5234" y2="331.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="70.5" y="326.4575">add(100, 2)</text><polygon fill="#A80036" points="1293,356.6563,1303,360.6563,1293,364.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="1299" y1="360.6563" y2="360.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="537.5" y="355.5903">price = getActPrice(price*quantity)</text><polygon fill="#A80036" points="1050.5,385.7891,1060.5,389.7891,1050.5,393.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="1056.5" y1="389.7891" y2="389.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="537.5" y="384.7231">add(price)</text><polygon fill="#A80036" points="1484,414.9219,1494,418.9219,1484,422.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1490" y1="418.9219" y2="418.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="70.5" y="413.856">secondCustomer = new(happyHourStrategy)</text><rect fill="#FEFECE" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1496" y="397.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1503" y="417.7842">secondCustomer:Customer</text><polygon fill="#A80036" points="1589,456.2188,1599,460.2188,1589,464.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1595" y1="460.2188" y2="460.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="70.5" y="455.1528">add(80, 1)</text><polygon fill="#A80036" points="1316,485.3516,1306,489.3516,1316,493.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1310" x2="1600" y1="489.3516" y2="489.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1322" y="484.2856">Integer price = getActPrice(price*quantity)</text><polygon fill="#A80036" points="1809,514.4844,1819,518.4844,1809,522.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1601" x2="1815" y1="518.4844" y2="518.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1608" y="513.4185">add(price)</text><polygon fill="#A80036" points="518.5,543.6172,528.5,547.6172,518.5,551.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="524.5" y1="547.6172" y2="547.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="70.5" y="542.5513">printBill()</text><polygon fill="#A80036" points="1050.5,572.75,1060.5,576.75,1050.5,580.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="1056.5" y1="576.75" y2="576.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="537.5" y="571.6841">Integer total = stream().mappToInt(v-&gt;v).sum()</text><polygon fill="#A80036" points="1050.5,601.8828,1060.5,605.8828,1050.5,609.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="1056.5" y1="605.8828" y2="605.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="537.5" y="600.8169">clear()</text><polygon fill="#A80036" points="1589,631.0156,1599,635.0156,1589,639.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1595" y1="635.0156" y2="635.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="70.5" y="629.9497">setStrategy(normalStrategy)</text><path d="M68,648.0156 L68,673.0156 L355,673.0156 L355,658.0156 L345,648.0156 L68,648.0156 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M345,648.0156 L345,658.0156 L355,658.0156 L345,648.0156 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="74" y="665.0825">voir définition de add et printBill ci-dessus</text><polygon fill="#A80036" points="1589,695.2813,1599,699.2813,1589,703.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1595" y1="699.2813" y2="699.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="70.5" y="694.2153">add(130, 2)</text><polygon fill="#A80036" points="1589,724.4141,1599,728.4141,1589,732.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1595" y1="728.4141" y2="728.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="70.5" y="723.3481">add(250, 1)</text><polygon fill="#A80036" points="1589,753.5469,1599,757.5469,1589,761.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63.5" x2="1595" y1="757.5469" y2="757.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="70.5" y="752.481">printBill()</text><!--MD5=[df187db3ec7cbdb89c041b02edb70f01]
@startuml
skinparam Style strictuml

actor ":StrategyDemo" as main
participant BillingStrategy
participant "firstCustomer:Customer"  as  FC
participant "normalStragegy:BillingStrategy" as NS
participant "drinks1:ArrayList<Integer>" as D1
participant "hapyHourstrategh:Billingstrategy" as HS
participant "secondCustomer:Customer"  as  SC
participant "drinks2:ArrayList<Integer>" as D2

main -> BillingStrategy : normalStrategy = normalStrategy()
main -> BillingStrategy : happyHourStrategy = happyHourStrategy()
main -> FC ** : FC = new(normalStrategy) 
main -> FC : add(100,1)
FC -> NS: Integer price = getActPrice(price*quantity)
FC -> D1: add(price)
main -> FC : setStrategy(happyHourStrategy)
main -> FC : add(100, 2)
FC -> HS: price = getActPrice(price*quantity)
FC -> D1: add(price)
main -> SC ** : secondCustomer = new(happyHourStrategy) 
main -> SC : add(80, 1)
SC -> HS: Integer price = getActPrice(price*quantity)
SC -> D2: add(price)
main -> FC: printBill()
FC -> D1: Integer total = stream().mappToInt(v->v).sum()
FC-> D1: clear()


main -> SC : setStrategy(normalStrategy)
note right of main: voir définition de add et printBill ci-dessus
main -> SC : add(130, 2)
main -> SC : add(250, 1)
main -> SC : printBill()
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>